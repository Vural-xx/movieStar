<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html 	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html">
<ui:composition template = "/templates/commom-template.xhtml">
<ui:define name="content">
<f:metadata>
	<f:event listener="#{filmController.alleFilme}" type="preRenderView" />
	<f:event listener="#{filmController.sortiereFilm('NEUSTERUPLOAD')}" type="preRenderView" />
	<f:event listener="#{filmController.top10}" type="preRenderView" />
</f:metadata>


    <div class="container-fluid firstContainer container-btrap-clear ">
    <h1 class="h1padding mg-t-50">Neue Uploads</h1>	
    	<div class="row">
    		<div class="col-lg-8">
    		
    	<h:form>	
    	<h:dataTable value="#{filmController.filme}" var="fi" style="border-collapse: collapse" border="0" cellpadding="10">
		<h:column>
    		
			<div class="row">
			<div class="col-md-4">
			<div class="picContainer">
				<img class="responsive border-dotted-b" src="assets/img/filmbild.jpg"></img>
				</div>
			</div>
			 <div class="col-md-8">
			 <h2><h:commandLink class="titellink" action="#{filmController.selectFilm(fi.name, 'FILM')}" value="#{fi.name}" /></h2>
			 <h4 class="pd-t-20">Beschreibung</h4>
			 <p>#{fi.beschreibung}</p>

			 
			 </div>
			</div>

			<div class="row mg-t-b-20 border-bottom">
			<div class="col-sm-3 pd-l-45"><p class="font-15">Uploader: #{fi.ersteller.benutzername}</p></div>
			<div class="col-sm-5"><p class="font-15">Upload-Datum: #{fi.formatDatum}</p></div>
			<div class="col-sm-3"><p class="font-15">Dauer: #{fi.dauer} min</p></div>
			</div>
			
					</h:column>	
    	</h:dataTable>
		</h:form>
  
    		</div>
    		
    		<div class="col-lg-4">
    			<div class="row">
    			<div class="col-md-12 border-left filmDerWoche"><h1 class="h1padding">Must See</h1>
    			<h2 class="pd-l-20">#{filmController.wochenFilm.name}</h2>
    			<p class="pd-l-20">Dauer: #{filmController.wochenFilm.dauer}</p>
    			<p class="pd-l-20">Erscheinungsjahr: #{filmController.wochenFilm.erscheinungsjahr}</p>
    			<p class="pd-l-20">Genre: #{filmController.wochenFilm.genre}</p>
    			<p class="pd-l-20 font-30">Sterne: #{filmController.wochenFilm.sterne}</p>
    			</div>
				</div>
    			<div class="row"><div class="col-md-12 border-left pd-t-50"><h1 class="h1padding">Top 10</h1>
    			<div class="top10Container pd-l-25">
    			<h:dataTable value="#{filmController.top10List}" var="fi" style="border-collapse: collapse" border="0" cellpadding="10">
		<h:column>
		<f:facet name="header">Name</f:facet>
			#{fi.name}	
		</h:column>
			<h:column>
		<f:facet name="header">Sterne</f:facet>
		#{fi.sterne}
		</h:column>
		</h:dataTable>
		</div>
    			</div>
				</div>
    		</div>
    	</div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="assets/js/vendor/jquery-1.12.0.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script type="text/javascript">
    //<![CDATA[
        $(window).load(function() { // makes sure the whole site is loaded
            $('#status').fadeOut(); // will first fade out the loading animation
            $('#preloader').delay(350).fadeOut('slow'); // will fade out the white DIV that covers the website.
            $('body').delay(350).css({'overflow':'visible'});
        })
    //]]>
	</script>
</ui:define>	
</ui:composition>
</html>